function b(o){let e=0;const t=c=>{e=c,o.innerHTML=`count is ${e}`};o.addEventListener("click",()=>t(++e)),t(0)}var d,s,l;const w="web.1ef4ffe0fb294b229fcc45a82686f32a",k="#EB5E60",h=[59.515385299958695,36.3219370667782],y=!0,L=!1,v=13,r=(o,e)=>{if(!o){console.error("Map container is not defined.");return}let t=new nmp_mapboxgl.Map({mapType:d,container:o,zoom:v,pitch:0,center:h,minZoom:2,maxZoom:21,trackResize:!0,mapKey:w,poi:y,traffic:L,mapTypeControllerStatus:{show:e,position:"bottom-right"}});t.addControl(new nmp_mapboxgl.GeolocateControl({positionOptions:{enableHighAccuracy:!0},trackUserLocation:!0,showUserHeading:!0})),new nmp_mapboxgl.Marker({color:k,draggable:!1}).setLngLat(h).addTo(t)};document.addEventListener("DOMContentLoaded",function(){s=document.getElementById("neshanMapContainer"),l=document.getElementById("neshanMapContainerAbout");const o=document.querySelector("#counter");o&&b(o);const e=document.querySelector(".swiper");e&&new Swiper(e,{direction:"horizontal",loop:!0,autoplay:{delay:3e3,disableOnInteraction:!1},pagination:{el:".swiper-pagination",clickable:!0},breakpoints:{320:{slidesPerView:1,spaceBetween:0},768:{slidesPerView:1,spaceBetween:0},1024:{slidesPerView:1,spaceBetween:0}}}),document.documentElement.classList.toggle("dark",localStorage.theme==="dark"||!("theme"in localStorage)&&window.matchMedia("(prefers-color-scheme: dark)").matches),document.querySelectorAll('a[href^="#"]').forEach(n=>{n.addEventListener("click",function(g){g.preventDefault();const p=document.querySelector(this.getAttribute("href"));p&&p.scrollIntoView({behavior:"smooth",block:"start"})})});const c=document.querySelector(".mobile-menu-toggle"),m=document.querySelector(".mobile-menu");c&&m&&c.addEventListener("click",function(){m.classList.toggle("active"),this.classList.toggle("active")}),window.addEventListener("scroll",function(){const n=document.querySelector(".site-header");n&&(window.scrollY>100?n.classList.add("scrolled"):n.classList.remove("scrolled"))}),E();const f=document.getElementById("theme-switch"),a=()=>{document.body.setAttribute("data-theme","dark"),localStorage.setItem("theme","dark"),d=nmp_mapboxgl.Map.mapTypes.neshanVectorNight,r(s,!1),r(l,!0)},i=()=>{document.body.setAttribute("data-theme","light"),localStorage.setItem("theme","light"),d=nmp_mapboxgl.Map.mapTypes.neshanVector,r(s,!1),r(l,!0)},u=localStorage.getItem("theme");u==="dark"||!u&&window.matchMedia("(prefers-color-scheme: dark)").matches?a():i(),f.addEventListener("click",()=>{document.body.getAttribute("data-theme")==="dark"?i():a()}),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",n=>{localStorage.getItem("theme")||(n.matches?a():i())})});function E(){document.querySelectorAll(".service-card").forEach(t=>{t.addEventListener("click",function(){console.log("Service card clicked:",this.dataset.service)})});const e=document.querySelector("#contact-form");e&&e.addEventListener("submit",function(t){t.preventDefault(),console.log("Contact form submitted")})}
